{% extends 'main/base.html' %}

{% block title %}Your Saved Packing Lists | My Packing Buddy{% endblock %}

{% block content %}
<style>
/* üåø Container */
.main-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 40px 20px;
  font-family: "Poppins", sans-serif;
}

/* ‚ú® Heading */
h2 {
  color: #333;
  margin-bottom: 25px;
  text-align: center;
  font-weight: 600;
  font-size: 1.8rem;
}

/* üß∫ Saved List Cards */
.category-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 18px;
  width: 100%;
  max-width: 800px;
}

.category-card {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 18px;
  padding: 18px;
  width: 280px;
  min-height: 160px;
  word-wrap: break-word;
  overflow-wrap: break-word;
  box-shadow: 0 8px 25px rgba(0,0,0,0.1);
  transition: transform 0.2s ease;
}
.category-card:hover { transform: translateY(-4px); }

.category-card h3 {
  font-size: 1.05rem;
  font-weight: 600;
  color: #374151;
  margin-bottom: 10px;
}

.category-card p {
  font-size: 0.9rem;
  color: #6b7280;
  line-height: 1.4;
  max-height: 6em;
  overflow: hidden;
  white-space: normal;
}

/* ‚öôÔ∏è Actions */
.category-actions {
  margin-top: 12px;
  display: flex;
  gap: 8px;
}
.category-actions button {
  flex: 1;
  border: none;
  padding: 7px;
  border-radius: 10px;
  font-size: 0.85rem;
  cursor: pointer;
  transition: 0.2s;
}
.category-actions .edit { background: #a7f3d0; }
.category-actions .delete { background: #fecaca; }
.category-actions button:hover { opacity: 0.9; transform: scale(1.03); }

/* üåü Responsive */
@media(max-width: 900px) {
  .category-container { width: 90%; justify-content: center; }
}
</style>

<div class="main-content">
  <h2>üå∏ Your Saved Packing Lists</h2>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <div class="category-container">
    {% if lists %}
      {% for item in lists %}
      <div class="category-card">
        <h3>{{ item.category }}</h3>
        <p>{{ item.list_items }}</p>
        <div class="category-actions">
          <form action="/delete_list/{{ item.id }}" method="POST" style="flex:1;">
            <button type="submit" class="delete">Delete</button>
          </form>
          <form action="/edit_list/{{ item.id }}" method="GET" style="flex:1;">
            <button type="submit" class="edit">Edit</button>
          </form>
        </div>
      </div>
      {% endfor %}
    {% else %}
      <p style="color:#555;">No saved lists yet üåø</p>
    {% endif %}
  </div>
</div>
{% endblock %}










